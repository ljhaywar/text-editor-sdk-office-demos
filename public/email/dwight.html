<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Demo App</title>
  <link href="./dwight.css" rel="stylesheet" />

</head>

<body>
  <h1>New email</h1>

  <form id="email" action="confirmation.html">
    <div><label for="from" >From:</label><input type="text" id="from" value="dwight@example.com" readonly></div>
    <div><label for="to" >To: </label><input type="text" id="to" value="sr-law@example.com"></div>
    <div><label for="cc" >CC: </label><input type="text" id="cc" value="michael@example.com"></div>
    <div> <label for="bcc" >BCC: </label><input type="text" id="bcc" ></div>
            
    <div>
      <label for="subject">Subject: </label><grammarly-editor-plugin><input type="text" id="subject" value="You will not regert buying paper from me"><grammarly-editor-plugin> 
    </div> 

    <grammarly-editor-plugin>
      <div id="ck-div" contenteditable="true">
          To who it may concern at Schaefer & Reiner Law, 
        <ul>
          <li>Fact: You need paper to run your business.
          <li>Fact: Our paper prices are low.
          <li>Fact: I am always available to help.
        </ul>
          Call me to purchase paper.<br><br>
          
          Sincerely,<br>
          Dwight</div>
    </grammarly-editor-plugin>

    <input type="submit" value="Send" class="button">
    
  </form>

  <div class="footer">
      <a href="..">Back to all demos</a>
     </div>

  <script src="https://cdn.ckeditor.com/ckeditor5/34.0.0/classic/ckeditor.js"></script>

  <script>

    // Create a classic editor instance
    let emailEditor;
    ClassicEditor.create(document.getElementById("ck-div")).then(editor => {
      emailEditor = editor;
      emailEditor.addCss('.cke_editable { background-color: black; color: white }');
    })

    // Configure the Grammarly Text Editor SDK
    document.querySelectorAll("grammarly-editor-plugin").forEach((grammarlyEditor) => {
      grammarlyEditor.config = { 
        autocomplete: "on", 
        toneDetector: "on",
        activation: "immediate",
        documentDomain: "mail"
        };
    });

    // Clear the email form when the writer clicks Send
    function sendEmail() {
      document.getElementById("to").value = '';
      document.getElementById("cc").value = '';
      document.getElementById("bcc").value = '';
      document.getElementById("subject").value = '';
      document.getElementById("ck-div").innerHTML = '';
      emailEditor.setData('');
    }

  </script>

  <script src="https://unpkg.com/@grammarly/editor-sdk@2.3.9?clientId=client_9m1fYK3MPQxwKsib5CxtpB"></script>
</body>

</html>
